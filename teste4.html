<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title></title>
	<link rel="icon" href="#.png">
	<link rel="stylesheet" href="#.css"/>

<style>
#fconf { 
position: absolute; 
top:0px ; left: 0px; 
background-color: #888; 
padding: 20px; 
display: none; }
</style>


<!-- VIDE: https://wordpress.com/post/joesynth.wordpress.com/14904 -->
<!-- EM defineCor() TROQUEI O VALOR DAS CORES DE #NUM POR NOMOS -->


</head>
<body>

<p>LocalStorage</p>

<button onclick="mostraConf()">Config</button>

<form name="fconf" id="fconf">
	<label>Nome:</label><br>
	<input type="text" name="fnome" id="fnome" size="20"><br><br>
	
	<label>Cor fundo:</label><br>
	<input type="radio" name="fcorF" onclick="defineCor(1,'black')">Preto<br>
	<input type="radio" name="fcorF" onclick="defineCor(1,'white')">Branco<br>
	<input type="radio" name="fcorF" onclick="defineCor(1,'red')">Vermelho<br>
	<input type="radio" name="fcorF" onclick="defineCor(1,'green')">Verde<br>
	<input type="radio" name="fcorF" onclick="defineCor(1,'blue')">Azul<br><br>
	
	<label>Cor texto:</label><br>
	<input type="radio" name="fcorT" onclick="defineCor(2,'black')">Preto<br> 
	<input type="radio" name="fcorT" onclick="defineCor(2,'white')">Branco<br>
	<input type="button" value="Gravar" onclick="gravar()">
</form>



<script>

var vcorf, vcort, vnome; // cor fundo, cor texto

function inicia () {
  if(localStorage.nome) {
    vcorf=localStorage.corf;
    vcort=localStorage.cort;
    vnome=localStorage.nome;
    defineCor(1,vcorf);
    defineCor(2,vcort);
    document.getElementById("painel").innerHTML="Bem vindo " +vnome+ "&lt;hr&gt;";
  } 
}

function gravar() { // manipula cor que já está na var
  var form = document.getElementById("fconf");
  vnome=document.getElementById("fnome").value;
  localStorage.corf=vcorf; // armazena
  localStorage.cort=vcort;
  localStorage.nome=vnome; 
  form.style.display="none";
}

function defineCor(op,cor) { // muda a cor, embora ainda n armazene.
  if (op==1) {
    document.body.style.backgroundColor=cor;
    vcorf=cor; // armazena cor na var
  }else{
    document.body.style.color=cor;
    vcort=cor; 
  }
}

function mostraConf () {
  var form = document.getElementById("fconf");
  form.style.display="block"; 
}

window.addEventListener("load",inicia);

</script>

</body>
</html>




xxx


